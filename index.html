<!DOCTYPE html>
<htlm>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content="Milestone4: build a shopping cart" />
    <meta name="title" content="Milestone4: Shopping Cart" />
    <link href="./stylesheet.css" type="text/css" rel="stylesheet" />
  </head>
  <body>
    <header>
      <div class="logo">
        <p>
          <img class="logoImg" src="Nonnovino200pxW.png" alt="company logo" />
          <a href="./index.html"></a>
        </p>
      </div>
      <!--Main navigation bar-->
      <nav id="mainmenu">
        <ul>
          <li class="wines"><a href="./index.html">Wines</a></li>
          <li class="nchoice"><a href="./nchoice.html">Nonno's choice</a></li>
          <li class="learnmore"><a href="./learnmore.html">Learn more</a></li>
          <li class="events"><a href="./events.html">Events</a></li>
          <li class="asknonno"><a href="./asknonno.html">Ask nonno</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h1>Our wine selection</h1>
      <!-- First row of three bottles-->
      <section id="row1">
        <div class="wineItem"><!--Gavi wine-->
          <p>
            <img class="wineImg"
              src="Gavi.jpg"
              alt="white wine Gavi glass bottle with cork 75cl"
            /><a href=".index.html"></a>
          </p>
          <h3 class="wineName">Gavi di Gavi DOCG</h3>
          <h4 class="origin">from Piedmont</h4>
          <p class="descr">This is a light white from Cortese grapes.</p>
            <span class="price">£15</span>
            <span class="size">per bottle</span>
            <button type="submit" id="AddBtn">Add to Cart</button>
        </div>
        <div class="wineItem"><!--Frappato wine-->
          <p>
            <img class="wineImg"
              src="Frappato.jpg"
              alt="red wine Frappato glass bottle with cork 75cl"
            /><a href=".index.html"></a>
          </p>
          <h3 class="wineName">Frappato IGP</h3>
          <h4 class="origin">from Sicily</h4>
          <p class="descr">A red wine with a nice structure.</p>
            <span class="price">£10</span>
            <span class="size">per bottle</span>
            <button type="submit" id="AddBtn">Add to Cart</button>
        </div>
        <div class="wineItem"><!--Prosecco wine-->
          <p>
            <img class="wineImg"
              src="prosecco.jpg"
              alt="sparkling wine Prosecco glass bottle with cork 75cl"
            /><a href=".index.html"></a>
          </p>
          <h3 class="wineName">Prosecco Extra Dry DOCG</h3>
          <h4 class="origin">from Veneto</h4>
          <p class="descr">Wonderful bubbles, great for celebrations.</p>
            <span class="price">£20</span>
            <span class="size">per bottle</span>
            <button type="submit" id="AddBtn">Add to Cart</button>
        </div>
      </section>
      <!-- Second row of three bottles-->
      <section id="row2">
        <div class="wineItem"><!--Lambrusco wine-->
          <p>
            <img class="wineImg"
              src="Lambrusco.jpg"
              alt="sparkling red wine Lambrusco glass bottle with cork 75cl"
            /><a href=".index.html"></a>
          </p>
          <h3 class="wineName">Lambrusco DOC</h3>
          <h4 class="origin">from Emilia-Romagna</h4>
          <p class="descr">A light sparkling red. Try it with pizza.</p>
            <span class="price">£16</span>
            <span class="size">per bottle</span>
            <button type="submit" id="AddBtn">Add to Cart</button>
        </div>
        <div class="wineItem"><!--Vermentino wine-->
          <p>
            <img class="wineImg"
              src="Vermentino.jpg"
              alt="white wine Vermentino glass bottle screw cap 75cl"
            /><a href=".index.html"></a>
          </p>
          <h3 class="wineName">Vermentino DOC</h3>
          <h4 class="origin">from Sardinia</h4>
          <p class="descr">A fresh and fruity white.</p>
            <span class="price">£13</span>
            <span class="size">per bottle</span>
            <button type="submit" id="AddBtn">Add to Cart</button>
        </div>
        <span/span class="wineItem"><!--Chianti wine-->
          <p>
            <img class="wineImg"
              src="Chianti.jpg"
              alt="Red Chianti glass bottle with cork 75cl"
            /><a href=".index.html"></a>
          </p>
          <h3 class="wineName">Chianti DOC</h3>
          <h4 class="origin">from Tuscany</h4>
          <p class="descr">Full-bodied with great tannins.</p>
            <span class="price">£25</span>
            <span class="size">per bottle</span>
            <button type="submit" id="AddBtn">Add to Cart</button>
        </div>
      </section>
      <!-- Shopping cart part-->
      <section id="shoppingCart">
      <title>Shopping Cart</title>
      <hr class="hor_dot_line"/>
      <div class="shopMenu">
      <div>Item</div>
      <div>Price</div>
      <div>Quantity</div>
      </div>
      <hr class="hor_dot_line"/>
      <div class="shopList">
        <div class="shopListRow">
          <div class="shopImgName">
        <img class="shopWineImg" src="gavi.jpg" alt="placeholder" width="30" heigth="30" />
        <span class="shopWineName">Gavi di Gavi</span>
        </div>
        <span class="shopPrice">£15</span>
        <div class="shopQuantityRes">
        <input type="number" min=1 id="shopQuantity" value="1"/>
        <button type="reset" id="ResBtn">X</button>
      </div>
    </div>
  </div>
      <div class="shopListRow">
        <div class="shopImgName">
      <img class="shopWineImg" src="lambrusco.jpg" alt="placeholder"/>
      <span class="shopWineName">Lambrusco</span>
      </div>
      <span class="shopPrice">£16</span>
      <div class="shopQuantityRes">
      <input type="number" min=1 id="shopQuantity" value="1"/>
      <button type="reset" id="ResBtn">X</button>
    </div>
        </div>
      </div>
    <div class="shopTotal">
    <div class="total">Total</div>
    <span class="totalPrice">£15.00</span>
  </div>
    <button type="button" id="checkout">Checkout</button>
    </div>
    </section>
    </main>
    <!--Footer-->
    <footer id="mainfooter">
      <ul>
        <li>About us</li>
        <li>Terms & Conditions</li>
        <li>All the small print</li>
      </ul>
    </footer>
    <script>
      const ResBtn = document.getElementById("ResBtn")
      console.log(ResBtn)
      for (let i = 0; i <= ResBtn.length; i++) {
        const button = ResBtn[i]
        button.AddEventListener("click", function(event) {
        const buttonClicked = event.target
        buttonClicked.parentElement.parentElement.remove()
        updatedShop_total()
        })
      }

      function updatedShop_total() {
      const shopListContainer = document.getElementByClassName("shopList")[0]
      const shopListRows = shopListContainer.getElementByClassName("shopListRow")
      const total = 0
      for (let i = 0; i <= shopListRows.length; i++) {
        const shopListRow = shopListRows[i]
        const priceElement = shopListRow.getElementByClassName("shopPrice")[0]
        const quantityElement = shopListRow.getElementbyId("shopQuantity")[0]
        const shopPrice = parsefloat(priceElement.innerText.replace("£", ""))
        const shopQuantity = quantityElement.value
        total = total + (shopPrice * shopQuantity)
      }
      document.getElementByClassName("totalPrice")[0].innerText = "£" + total
      }
    </script>
  </body>
</htlm>
